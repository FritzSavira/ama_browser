<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Dein LLM-Persönlichkeitsprofil</title>
    <style>
        /* Einfaches Styling für Übersichtlichkeit */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .dimension {
            margin-bottom: 30px;
        }
        .facet {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        .slider-label {
            display: inline-block;
            width: 400px;
        }
        .slider {
            width: 300px;
        }
        #results {
            margin-top: 30px;
        }
        textarea {
            width: 100%;
            font-family: monospace;
        }
        #start-button {
            padding: 10px 20px;
            font-size: 16px;
        }
        #generate-prompt-button {
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>

<h1>Dein LLM-Persönlichkeitsprofil</h1>
<p>Lege fest, wie das Large Language Model (LLM) in seinen Antworten auftreten soll. Wähle dafür Ausprägungen in den fünf grundlegenden Persönlichkeitsdimensionen. Passe für jede Dimension die Intensität an und erhalte am Ende ein zusammenfassendes System-Prompt-Template.</p>

<button id="start-button">Jetzt Big-Five-Profil anpassen</button>

<div id="main-content" style="display:none;">

    <!-- Formular für die Persönlichkeitsdimensionen -->
    <form id="personality-form">
        <!-- 1. Offenheit für Erfahrungen -->
        <div class="dimension">
            <h2>1. Offenheit für Erfahrungen</h2>
            <p>Wie neugierig, kreativ und offen für Abwechslung soll das LLM wirken? Passe die Offenheit für Erfahrungen an, indem du unterschiedliche Sub-Facetten justierst.</p>
            <!-- Sub-Facetten -->
            <div class="facet">
                <label class="slider-label">Ist originell, entwickelt neue Ideen</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet1">
            </div>
            <div class="facet">
                <label class="slider-label">Ist vielseitig interessiert</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet2">
            </div>
            <!-- Weitere Facetten hier hinzufügen -->
        </div>

        <!-- 2. Gewissenhaftigkeit -->
        <div class="dimension">
            <h2>2. Gewissenhaftigkeit</h2>
            <p>Beschreibt Selbstdisziplin, Pflichtbewusstsein und Streben nach Leistung.</p>
            <div class="facet">
                <label class="slider-label">Erledigt Aufgaben gründlich</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet11">
            </div>
            <!-- Weitere Facetten hier hinzufügen -->
        </div>

        <!-- 3. Extraversion -->
        <div class="dimension">
            <h2>3. Extraversion</h2>
            <p>Beschreibt Geselligkeit, Durchsetzungsvermögen und Energieniveau.</p>
            <div class="facet">
                <label class="slider-label">Ist gesprächig</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet21">
            </div>
            <!-- Weitere Facetten hier hinzufügen -->
        </div>

        <!-- 4. Verträglichkeit -->
        <div class="dimension">
            <h2>4. Verträglichkeit</h2>
            <p>Beschreibt zwischenmenschliches Verhalten wie Mitgefühl, Kooperationsbereitschaft und Vertrauen.</p>
            <div class="facet">
                <label class="slider-label">Ist hilfsbereit und selbstlos gegenüber anderen</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet31">
            </div>
            <!-- Weitere Facetten hier hinzufügen -->
        </div>

        <!-- 5. Neurotizismus -->
        <div class="dimension">
            <h2>5. Neurotizismus</h2>
            <p>Beschreibt emotionale Stabilität bzw. Instabilität.</p>
            <div class="facet">
                <label class="slider-label">Ist niedergeschlagen, deprimiert</label>
                <input type="range" min="1" max="7" value="4" class="slider" id="facet41">
            </div>
            <!-- Weitere Facetten hier hinzufügen -->
        </div>

        <!-- Zusammenfassung und Prompt-Generator -->
        <div id="summary">
            <h2>Dein fertiges Persönlichkeitsprofil</h2>
            <button type="button" id="generate-prompt-button">System-Prompt generieren</button>
        </div>
    </form>
</div>

<!-- Bereich zur Anzeige des generierten System Prompts und der JSON-Daten -->
<div id="results" style="display:none;">
    <h2>Generierter System Prompt</h2>
    <textarea id="system-prompt" rows="10"></textarea>

    <h2>Parameter im JSONL-Format</h2>
    <textarea id="system-prompt-json" rows="10"></textarea>
</div>

<!-- Einbindung des JavaScript-Skripts -->
// Settings für Persönlichkeit des Systemprompts
document.addEventListener('DOMContentLoaded', function() {
    const startButton = document.getElementById('start-button');
    const mainContent = document.getElementById('main-content');
    const generatePromptButton = document.getElementById('generate-prompt-button');
    const resultsDiv = document.getElementById('results');
    const systemPromptTextarea = document.getElementById('system-prompt');
    const systemPromptJsonTextarea = document.getElementById('system-prompt-json');

    startButton.addEventListener('click', function() {
        startButton.style.display = 'none';
        mainContent.style.display = 'block';
    });

    generatePromptButton.addEventListener('click', function() {
        // Sammlung der Facettenwerte
        let facets = {};

        // Beispiel: Offenheit für Erfahrungen
        facets['Ist originell, entwickelt neue Ideen'] = getFacetValue('facet1');
        facets['Ist vielseitig interessiert'] = getFacetValue('facet2');
        // Wiederholen für alle Facetten...

        // Gewissenhaftigkeit
        facets['Erledigt Aufgaben gründlich'] = getFacetValue('facet11');
        // Wiederholen für alle Facetten...

        // Weitere Dimensionen hier hinzufügen...

        // Generierung des System Prompts
        let systemPrompt = generateSystemPrompt(facets);

        // Vorbereitung der JSON-Daten
        let systemPromptJson = JSON.stringify(facets, null, 2);

        // Anzeige der Ergebnisse
        systemPromptTextarea.value = systemPrompt;
        systemPromptJsonTextarea.value = systemPromptJson;
        resultsDiv.style.display = 'block';

        // Optional: Daten an den Server senden
        /*
        fetch('/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                system_prompt: systemPrompt,
                system_prompt_json: facets
            })
        })
        .then(response => response.json())
        .then(data => {
            console.log(data.message);
        });
        */
    });

    function getFacetValue(facetId, reverseScored = false) {
        let value = parseInt(document.getElementById(facetId).value);
        if (reverseScored) {
            // Umkehrung des Wertes für umgekehrt bewertete Items (Skala von 1 bis 7)
            value = 8 - value;
        }
        return value;
    }

    function generateSystemPrompt(facets) {
        // Hier können Sie komplexere Logik einfügen, um einen zusammenhängenden Prompt zu erstellen

        let prompt = "Du bist ein KI-Assistent mit folgenden Persönlichkeitsmerkmalen:\n\n";

        // Gruppierung der Facetten nach Dimensionen (als Beispiel)
        prompt += "Offenheit für Erfahrungen:\n";
        prompt += "- Ist originell, entwickelt neue Ideen: " + facets['Ist originell, entwickelt neue Ideen'] + "\n";
        prompt += "- Ist vielseitig interessiert: " + facets['Ist vielseitig interessiert'] + "\n";
        // Weitere Facetten hinzufügen...

        prompt += "\nGewissenhaftigkeit:\n";
        prompt += "- Erledigt Aufgaben gründlich: " + facets['Erledigt Aufgaben gründlich'] + "\n";
        // Weitere Facetten hinzufügen...

        // Weitere Dimensionen hinzufügen...

        return prompt;
    }
});

</body>
</html>